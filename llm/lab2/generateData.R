# Создание CSV-файла с 70 наблюдениями (реальные + сгенерированные)

set.seed(123)

# === 1. Первые 23 наблюдения из задания ===
df_real <- data.frame(
  No = 1:23,
  Kl = c(rep(1, 16), rep(2, 7)),
  Y3 = c(14.4, 20.1, 24.1, 13.1, 17.3, 40.5, 52.7, 20.8, 14.0, 27.0,
         44.3, 47.5, 54.0, 16.1, 87.5, 37.8, 35.8, 65.0, 62.0, 71.6,
         24.1, 37.2, 35.4),
  Y5 = c(25.1, 40.1, 32.1, 16.9, 32.1, 64.4, 50.0, 22.3, 3.1, 41.7,
         63.8, 50.1, 57.0, 20.6, 74.5, 63.4, 48.0, 60.0, 65.0, 45.0,
         45.0, 55.0, 44.6),
  Y7 = c(0.25, 0.17, 0.19, 0.14, 0.39, 0.22, 0.56, 0.17, 0.19, 0.13,
         0.26, 0.21, 0.17, 0.29, 0.48, 0.31, 2.74, 1.37, 0.70, 1.40,
         0.22, 0.01, 0.09),
  Y9 = c(1.77, 2.86, 3.11, 1.48, 12.0, 40.3, 1.97, 13.86, 15.23, 24.08,
         10.2, 12.1, 11.3, 7.5, 9.4, 8.1, 6.3, 4.1, 5.7, 3.8, 9.5, 2.7, 4.8) # заменили "..." на реалистичные числа
)

# === 2. Сгенерируем 47 оставшихся наблюдений ===
n_gen <- 70 - nrow(df_real)

# 35 всего в каждой группе => в первой группе не хватает 35 - 16 = 19, во второй 35 - 7 = 28
n_gen_kl1 <- 19
n_gen_kl2 <- 28

# Функция генерации случайных строк по группе
gen_group <- function(start_id, n, kl) {
  data.frame(
    No = start_id:(start_id + n - 1),
    Kl = kl,
    Y3 = runif(n, 10, 90),
    Y5 = runif(n, 3, 80),
    Y7 = runif(n, 0.05, 3),
    Y9 = runif(n, 1, 40)
  )
}

df_gen1 <- gen_group(24, n_gen_kl1, 1)
df_gen2 <- gen_group(24 + n_gen_kl1, n_gen_kl2, 2)

df_full <- rbind(df_real, df_gen1, df_gen2)

# === 3. Сохраняем в CSV ===
write.csv(df_full, "thyroid_data.csv", row.names = FALSE, fileEncoding = "UTF-8")

cat("✅ Файл 'thyroid_data.csv' успешно создан в рабочей папке!\n")
print(head(df_full, 10))
