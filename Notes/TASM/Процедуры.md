### Macro
#### Состав:
Каждое макроопределение имеет три части: 
1. Заголовок - псевдооператор MACRO, в поле метки которого указано имя макроопределения, а в поле операнда - необязательный список формальных параметров. В списке формальных параметров указываются переменные - входные параметры, которые можно изменять при каждом вызове макроопределения. 
2. Тело - последовательность операторов Ассемблера (команд и псевдооператоров), которые задают действия. выполняемые макроопределением. 
3. Концевик - псевдооператор ENDM, который отмечает конец макроопределения. Если Вы опустите псевдооператор ENDM, то Ассемблер выдаст сообщение об ошибке End of encountered file (обнаружен конец входного файла).

Они определяются перед сегментом данных `DS` - `.data`, также они:
- **Не имеют собственной сигнатуры:** Макросы не имеют формальных параметров, они работают с местными метками и символами.
- **Препроцессор:** Макросы обрабатываются на этапе предпроцессинга перед компиляцией и не создают отдельного объектного кода.
#### Синтаксис:
```TASM
Имя MACRO [список формальных параметров] ;начало макроопределения 
	Тело макроопределения, 
	Использующее формальные параметры 
ENDM                                     ;ключевое слово – конец макроопределения
```

Имя используется для вызова макроопределения в макрокоманде с фактическими параметрами. 

```TASM
Имя [список фактических параметров]
```

- There's no explicit type or size associated with arguments
- Arguments can represent immediate values, memory references, or symbolic names.

**Пример:**
```TASM
MyMacro MACRO arg1:REQ, arg2:REQ
    mov ax, arg1
    add ax, arg2
ENDM
;----
MyMacro 5, 10
```

#### local
>In TASM (Turbo Assembler), macros don't directly support the concept of local labels like procedures or blocks do. However, you can achieve a form of scoping by using unique labels that are unlikely to clash with labels in other parts of your program.

– for this matter `local` operator exists
```TASM
local [list of labels]
```
**Пример:**
```TASM
my_macros macro
	local label1, label2

label1:
	; code
label2:
	; code 
endm
```

MACROS can have local constants declared within.
### Подпрограммы / Subroutines
– Функции представляют собой независимые участки кода, имеющие имя и формальные параметры. Вызов функции создает отдельный блок исполняемого кода.
При этом:
- **Подпрограммы** обычно имеют собственные сигнатуры с указанием аргументов и возвращаемого значения.
- **Создание кода:** Функции создают отдельный объектный код, который вызывается и связывается с основной программой.
- **Может иметь локальные переменные:** Функции могут иметь локальные переменные и реализовывать более сложную логику.
Их определение происходит в сегменте кода `CS` - `.code`
#### Синтаксис
```TASM
Имя PROC [список формальных параметров] ;начало макроопределения 
	Тело макроопределения, 
	Использующее формальные параметры 
Имя ENDP                                ;ключевое слово – конец макроопределения
```
Синтаксис формальных параметров:
```TASM
имя_параметра:тип
```
если их несколько, они определяются через запятую
**Пример:**
```TASM
MyFunction PROC arg1:WORD, arg2:WORD
    push bp
    mov bp, sp
    mov ax, [bp+4]  ; Получить значение arg1
    add ax, [bp+6]  ; Получить значение arg2
    pop bp
    ret             ; ret for return
MyFunction ENDP
```
В коде вызывается как `call MyFunction` с передачей аргументов через стек.